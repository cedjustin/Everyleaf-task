<%= form_with(model: @task, local: true) do |form| %>
  <% if @task.errors.any? %>
    <div id="error_explanation">
      <ul>
        <% @task.errors.full_messages.each do |message| %>
          <li class="text-danger"><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= form.text_field :task_name , placeholder:"Task name", class: "form-control input" %>
    <%= form.text_field :label_name ,placeholder:"Label name", class: "form-control input" %>
  </div>  
  <div class="form-group">
    <label>Start Date</label><br>
    <%= form.date_field :start_date, as: :date, value: form.object.try(:strftime,"%d/%m/%Y"),placeholder:"Start Date", class: "form-control" %>
  </div>
  <div class="form-group">
    <label>Deadline</label><br>
    <%= form.date_field :deadline, as: :date, value: form.object.try(:strftime,"%d/%m/%Y"),placeholder:"Deadline", class: "form-control" %>
  </div>
  <div class="form-group ">
    <b>Status</b><br />
    <%= form.radio_button :status, 'not started' %> Not Started
    <%= form.radio_button :status, 'on going' %> On Going
    <%= form.radio_button :status, 'finished' %> Finished<br />
  </div>
  <div class="form-group">
    <b>Priority</b><br />
    <%= form.radio_button :priority, '3' %> Low
    <%= form.radio_button :priority, '2' %> Medium
    <%= form.radio_button :priority, '1' %> High<br />
  </div>
  <div>
    <% Label.all.each do |label| %>
    <%= form.check_box :label_ids, { multiple: true, checked: label[:checked], disabled: label[:disabled], include_hidden: false }, label[:id] %>
      <% if label.name.length < 2 %>
      <label class="badge badge-pill badge-success" style = " width: auto;" > <%= label.name %> </label>
      <%elsif label.name.length < 4%>
      <label class="badge badge-pill badge-warning" style = " width: auto;" > <%= label.name %> </label>
      <%elsif label.name.length < 6%>
      <label class="badge badge-pill badge-info" style = " width: auto;" > <%= label.name %> </label>
      <%elsif label.name.length < 8%>
      <label class="badge badge-pill badge-secondary" style = " width: auto;" > <%= label.name %> </label>
      <%else %>
      <label class="badge badge-pill badge-danger" style = " width: auto;" > <%= label.name %> </label>
      <%end%>
    <% end %>
  </div>
  <hr>  
  <div class="actions text-center">
    <%= form.submit  class:"btn btn-dark  "  %>     
    <%= link_to 'Back', tasks_path, class:"btn btn-dark  "%>     
  </div>
<% end %>
   